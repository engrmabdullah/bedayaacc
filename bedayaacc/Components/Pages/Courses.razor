@page "/courses"
@using bedayaacc.Components.Layout
@using bedayaacc.Services
@inject NavigationManager Navigation
@inject TranslationService TranslationService
@inject IJSRuntime JSRuntime

@layout ExternalLayout

<div class="bedaya-courses-page">
    <!-- Header Section -->
    <header class="bedaya-courses-header">
        <div class="bedaya-container">
            <div class="bedaya-courses-header-content">
                <h1 class="bedaya-courses-page-title">@Tr("Courses.Title")</h1>
                <p class="bedaya-courses-page-subtitle">@Tr("Courses.Subtitle")</p>
            </div>
        </div>
    </header>

    <!-- Filter Section -->
    <section class="bedaya-courses-filter">
        <div class="bedaya-container">
            <div class="bedaya-courses-filter-content">
                <div class="bedaya-courses-search">
                    <input type="text" class="bedaya-search-input" placeholder="@Tr("Courses.Search.Placeholder")" />
                    <button class="bedaya-search-btn">
                        <i class="fas fa-search" aria-hidden="true"></i>
                    </button>
                </div>

                <div class="bedaya-courses-filters">
                    <select class="bedaya-filter-select">
                        <option value="">@Tr("Courses.Filter.All")</option>
                        <option value="beginner">@Tr("Courses.Filter.Beginner")</option>
                        <option value="intermediate">@Tr("Courses.Filter.Intermediate")</option>
                        <option value="advanced">@Tr("Courses.Filter.Advanced")</option>
                    </select>

                    <select class="bedaya-filter-select">
                        <option value="">@Tr("Courses.Filter.Duration")</option>
                        <option value="short">@Tr("Courses.Filter.Short")</option>
                        <option value="medium">@Tr("Courses.Filter.Medium")</option>
                        <option value="long">@Tr("Courses.Filter.Long")</option>
                    </select>

                    <select class="bedaya-filter-select">
                        <option value="">@Tr("Courses.Filter.Price")</option>
                        <option value="free">@Tr("Courses.Filter.Free")</option>
                        <option value="paid">@Tr("Courses.Filter.Paid")</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- Courses Grid -->
    <section class="bedaya-courses-grid-section">
        <div class="bedaya-container">
            <div class="bedaya-courses-grid-header">
                <h2 class="bedaya-courses-grid-title">@Tr("Courses.Available.Title")</h2>
                <div class="bedaya-courses-count">
                    <span>@Tr("Courses.Available.Count")</span>
                </div>
            </div>

            <div class="bedaya-courses-grid">
                <!-- Course Card 1 -->
                <div class="bedaya-course-card bedaya-course-card-1">
                    <div class="bedaya-course-image">
                        <div class="bedaya-course-image-content">@Tr("Courses.Fundamentals.Image")</div>
                        <div class="bedaya-course-badge">@Tr("Courses.Fundamentals.Level")</div>
                    </div>
                    <div class="bedaya-course-content">
                        <h3 class="bedaya-course-title">@Tr("Courses.Fundamentals.Title")</h3>
                        <p class="bedaya-course-desc">@Tr("Courses.Fundamentals.Desc")</p>
                        <div class="bedaya-course-meta">
                            <span class="bedaya-course-duration">
                                <i class="far fa-clock" aria-hidden="true"></i>
                                @Tr("Courses.Fundamentals.Duration")
                            </span>
                            <span class="bedaya-course-students">
                                <i class="fas fa-users" aria-hidden="true"></i>
                                2,847
                            </span>
                        </div>
                        <div class="bedaya-course-footer">
                            <div class="bedaya-course-price">@Tr("Courses.Fundamentals.Price")</div>
                            <a href="/course/fundamentals" class="bedaya-course-btn">@Tr("Courses.EnrollNow")</a>
                        </div>
                    </div>
                </div>

                <!-- Course Card 2 -->
                <div class="bedaya-course-card bedaya-course-card-2">
                    <div class="bedaya-course-image">
                        <div class="bedaya-course-image-content">@Tr("Courses.Managerial.Image")</div>
                        <div class="bedaya-course-badge">@Tr("Courses.Managerial.Level")</div>
                    </div>
                    <div class="bedaya-course-content">
                        <h3 class="bedaya-course-title">@Tr("Courses.Managerial.Title")</h3>
                        <p class="bedaya-course-desc">@Tr("Courses.Managerial.Desc")</p>
                        <div class="bedaya-course-meta">
                            <span class="bedaya-course-duration">
                                <i class="far fa-clock" aria-hidden="true"></i>
                                @Tr("Courses.Managerial.Duration")
                            </span>
                            <span class="bedaya-course-students">
                                <i class="fas fa-users" aria-hidden="true"></i>
                                1,923
                            </span>
                        </div>
                        <div class="bedaya-course-footer">
                            <div class="bedaya-course-price">@Tr("Courses.Managerial.Price")</div>
                            <a href="/course/managerial" class="bedaya-course-btn">@Tr("Courses.EnrollNow")</a>
                        </div>
                    </div>
                </div>

                <!-- Course Card 3 -->
                <div class="bedaya-course-card bedaya-course-card-3">
                    <div class="bedaya-course-image">
                        <div class="bedaya-course-image-content">@Tr("Courses.Tax.Image")</div>
                        <div class="bedaya-course-badge">@Tr("Courses.Tax.Level")</div>
                    </div>
                    <div class="bedaya-course-content">
                        <h3 class="bedaya-course-title">@Tr("Courses.Tax.Title")</h3>
                        <p class="bedaya-course-desc">@Tr("Courses.Tax.Desc")</p>
                        <div class="bedaya-course-meta">
                            <span class="bedaya-course-duration">
                                <i class="far fa-clock" aria-hidden="true"></i>
                                @Tr("Courses.Tax.Duration")
                            </span>
                            <span class="bedaya-course-students">
                                <i class="fas fa-users" aria-hidden="true"></i>
                                3,456
                            </span>
                        </div>
                        <div class="bedaya-course-footer">
                            <div class="bedaya-course-price">@Tr("Courses.Tax.Price")</div>
                            <a href="/course/tax" class="bedaya-course-btn">@Tr("Courses.EnrollNow")</a>
                        </div>
                    </div>
                </div>

                <!-- Course Card 4 -->
                <div class="bedaya-course-card bedaya-course-card-4">
                    <div class="bedaya-course-image">
                        <div class="bedaya-course-image-content">@Tr("Courses.Advanced.Image")</div>
                        <div class="bedaya-course-badge">@Tr("Courses.Advanced.Level")</div>
                    </div>
                    <div class="bedaya-course-content">
                        <h3 class="bedaya-course-title">@Tr("Courses.Advanced.Title")</h3>
                        <p class="bedaya-course-desc">@Tr("Courses.Advanced.Desc")</p>
                        <div class="bedaya-course-meta">
                            <span class="bedaya-course-duration">
                                <i class="far fa-clock" aria-hidden="true"></i>
                                @Tr("Courses.Advanced.Duration")
                            </span>
                            <span class="bedaya-course-students">
                                <i class="fas fa-users" aria-hidden="true"></i>
                                1,678
                            </span>
                        </div>
                        <div class="bedaya-course-footer">
                            <div class="bedaya-course-price">@Tr("Courses.Advanced.Price")</div>
                            <a href="/course/advanced" class="bedaya-course-btn">@Tr("Courses.EnrollNow")</a>
                        </div>
                    </div>
                </div>

                <!-- Course Card 5 -->
                <div class="bedaya-course-card bedaya-course-card-5">
                    <div class="bedaya-course-image">
                        <div class="bedaya-course-image-content">@Tr("Courses.International.Image")</div>
                        <div class="bedaya-course-badge">@Tr("Courses.International.Level")</div>
                    </div>
                    <div class="bedaya-course-content">
                        <h3 class="bedaya-course-title">@Tr("Courses.International.Title")</h3>
                        <p class="bedaya-course-desc">@Tr("Courses.International.Desc")</p>
                        <div class="bedaya-course-meta">
                            <span class="bedaya-course-duration">
                                <i class="far fa-clock" aria-hidden="true"></i>
                                @Tr("Courses.International.Duration")
                            </span>
                            <span class="bedaya-course-students">
                                <i class="fas fa-users" aria-hidden="true"></i>
                                2,123
                            </span>
                        </div>
                        <div class="bedaya-course-footer">
                            <div class="bedaya-course-price">@Tr("Courses.International.Price")</div>
                            <a href="/course/international" class="bedaya-course-btn">@Tr("Courses.EnrollNow")</a>
                        </div>
                    </div>
                </div>

                <!-- Course Card 6 -->
                <div class="bedaya-course-card bedaya-course-card-6">
                    <div class="bedaya-course-image">
                        <div class="bedaya-course-image-content">@Tr("Courses.Forensic.Image")</div>
                        <div class="bedaya-course-badge">@Tr("Courses.Forensic.Level")</div>
                    </div>
                    <div class="bedaya-course-content">
                        <h3 class="bedaya-course-title">@Tr("Courses.Forensic.Title")</h3>
                        <p class="bedaya-course-desc">@Tr("Courses.Forensic.Desc")</p>
                        <div class="bedaya-course-meta">
                            <span class="bedaya-course-duration">
                                <i class="far fa-clock" aria-hidden="true"></i>
                                @Tr("Courses.Forensic.Duration")
                            </span>
                            <span class="bedaya-course-students">
                                <i class="fas fa-users" aria-hidden="true"></i>
                                1,345
                            </span>
                        </div>
                        <div class="bedaya-course-footer">
                            <div class="bedaya-course-price">@Tr("Courses.Forensic.Price")</div>
                            <a href="/course/forensic" class="bedaya-course-btn">@Tr("Courses.EnrollNow")</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Pagination -->
    <section class="bedaya-courses-pagination">
        <div class="bedaya-container">
            <div class="bedaya-pagination">
                <button class="bedaya-pagination-btn bedaya-pagination-prev">
                    <i class="fas fa-chevron-left" aria-hidden="true"></i>
                </button>
                <span class="bedaya-pagination-current">1</span>
                <span class="bedaya-pagination-separator">/</span>
                <span class="bedaya-pagination-total">3</span>
                <button class="bedaya-pagination-btn bedaya-pagination-next">
                    <i class="fas fa-chevron-right" aria-hidden="true"></i>
                </button>
            </div>
        </div>
    </section>
</div>

@code {
    string Tr(string key) => TranslationService.Translate(key);

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await TranslationService.EnsureInitAfterRenderAsync();
        }
        StateHasChanged();
    }
}